          # .air.conf
root = "."
tmp_dir = "tmp"

[build]
# 编译命令：编译当前目录下的所有文件，输出到 tmp/main
cmd = "go build -o ./tmp/main ."

# 二进制文件路径
bin = "tmp/main"

# 运行命令
# 注意：根据您的文件结构，config.yaml 在根目录。
# 如果您的程序启动需要指定配置文件（例如 ./main config.yaml），请修改下面这行：
# full_bin = "./tmp/main config.yaml"
# 如果您的程序自动读取当前目录下的 config.yaml，则保持如下：
full_bin = "./tmp/main"

# 监控的文件扩展名
include_ext = ["go", "tpl", "tmpl", "html", "yaml"]

# 忽略的目录
# 关键：加入了 "教学文档" 防止写文档时触发重启
exclude_dir = ["assets", "tmp", "vendor", "frontend/node_modules", "教学文档", ".git"]

# 忽略的文件
# 尽管 .log 不在监控扩展名中，显式排除更安全
exclude_file = ["bluebell.log", "web_app.log", "GEMINI.md"]

# 延迟时间 (毫秒)
delay = 1000

# 编译错误时停止运行旧程序
stop_on_error = true

# Air 自身的日志
log = "air_errors.log"

[log]
time = true

[color]
main = "magenta"
watcher = "cyan"
build = "yellow"
runner = "green"

[misc]
# 退出时删除 tmp 目录
clean_on_exit = true                                                    