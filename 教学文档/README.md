# Bluebell 项目教学文档 (2025重构版)

## 📚 文档说明

本教学文档基于 Bluebell 社区论坛项目的完整实现,采用循序渐进的方式,帮助学习者从零开始掌握 Go Web 开发的核心技能。

**重构日期:** 2025年12月
**项目版本:** v2.0
**适用人群:** 有 Go 语言基础,想要学习 Web 开发的同学

---

## 🎯 学习目标

通过学习本教程,你将掌握:

1. **Go Web 基础**: Gin 框架、路由、中间件、参数校验
2. **数据库操作**: MySQL 数据建模、sqlx 使用、SQL 优化
3. **缓存应用**: Redis 数据结构、缓存策略、分布式场景
4. **认证授权**: JWT 认证、Refresh Token、会话管理
5. **业务建模**: 用户系统、社区管理、帖子发布、投票机制
6. **工程实践**: 日志系统、配置管理、API 文档、热重载

---

## 📖 章节目录

### 第一部分:基础篇 - 用户认证与JWT (1-12章)

**核心内容:** 数据库设计、用户注册登录、JWT认证、开发工具

| 章节 | 标题 | 核心知识点 |
|------|------|-----------|
| 01 | [用户表设计与数据建模](./01-用户表设计与数据建模.md) | MySQL表设计、字段类型选择、索引优化 |
| 02 | [Snowflake算法生成分布式ID](./02-Snowflake算法生成分布式ID.md) | 分布式ID、雪花算法实现原理 |
| 03 | [用户注册业务流程设计](./03-用户注册业务流程设计.md) | 三层架构(CLD)、业务流程梳理 |
| 04 | [请求参数绑定与校验](./04-请求参数绑定与校验.md) | ShouldBindJSON、validator标签 |
| 05 | [优雅的参数校验与错误翻译](./05-优雅的参数校验与错误翻译.md) | 自定义校验规则、错误信息中文化 |
| 06 | [用户密码加密与数据持久化](./06-用户密码加密与数据持久化.md) | bcrypt密码哈希、sqlx数据插入 |
| 07 | [Zap日志系统集成与环境分离](./07-Zap日志系统集成与环境分离.md) | 结构化日志、日志分级、Lumberjack轮转 |
| 08 | [JWT认证与登录功能实现](./08-JWT认证与登录功能实现.md) | JWT原理、Token生成、登录流程 |
| 09 | [Refresh_Token_最佳实践](./09-Refresh_Token_最佳实践.md) | Token刷新机制、安全性提升 |
| 10 | [单点登录与互踢模式](./10-单点登录与互踢模式.md) | 单设备登录、Redis存储Token |
| 11 | [集成Swagger自动生成文档](./11-集成Swagger自动生成文档.md) | Swaggo集成、注解编写、文档预览 |
| 12 | [高效开发工具Makefile与Air](./12-高效开发工具Makefile与Air.md) | Makefile编译、Air热重载 |

---

### 第二部分:进阶篇 - 社区与帖子功能 (13-18章)

**核心内容:** 社区管理、帖子CRUD、分页查询、投票系统

| 章节 | 标题 | 核心知识点 |
|------|------|-----------|
| 13 | [社区管理功能实现](./13-社区管理功能实现.md) | 社区列表、社区详情、RESTful API设计 |
| 14 | [帖子发布功能实现](./14-帖子发布功能实现.md) | 创建帖子、获取详情、数据聚合 |
| 15 | [帖子列表分页实现](./15-帖子列表分页实现.md) | 分页原理、LIMIT OFFSET、N+1问题优化 |
| 16 | [帖子投票功能深度解析](./16-帖子投票功能深度解析.md) | Reddit算法、投票规则、oneof校验、状态机 |
| 17 | [Redis在帖子排序中的应用](./17-Redis在帖子排序中的应用.md) | ZSet数据结构、Pipeline原子性、批量查询 |
| 18 | [按社区筛选帖子实现](./18-按社区筛选帖子实现.md) | 统一接口设计、调度器模式、条件查询 |

---

## 🗂️ 附录资源

### A. 代码规范与最佳实践

- [Go 项目目录结构规范](./附录/A01-Go项目目录结构规范.md)
- [Gin 框架最佳实践](./附录/A02-Gin框架最佳实践.md)
- [MySQL 查询优化指南](./附录/A03-MySQL查询优化指南.md)
- [Redis 使用最佳实践](./附录/A04-Redis使用最佳实践.md)

### B. 常见问题与故障排查

- [常见编译错误解决方案](./附录/B01-常见编译错误解决方案.md)
- [数据库连接问题排查](./附录/B02-数据库连接问题排查.md)
- [JWT 认证常见错误](./附录/B03-JWT认证常见错误.md)
- [前后端联调问题集锦](./附录/B04-前后端联调问题集锦.md)

### C. 扩展阅读

- [Go 并发编程进阶](./附录/C01-Go并发编程进阶.md)
- [微服务架构演进](./附录/C02-微服务架构演进.md)
- [容器化部署实践](./附录/C03-容器化部署实践.md)

---

## 🚀 快速开始

### 环境要求

- Go 1.19+
- MySQL 5.7+
- Redis 5.0+
- GoLand / VSCode (推荐)

### 克隆项目

```bash
cd ~/code/Go
# 项目已存在,直接查看代码即可
```

### 数据库初始化

```sql
-- 创建数据库
CREATE DATABASE bluebell DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_general_ci;

-- 执行建表脚本
source create_table.sql;
```

### 配置文件

复制 `config.example.yaml` 为 `config.yaml`,修改数据库连接信息。

### 运行项目

```bash
# 方式1: 直接运行
go run main.go

# 方式2: 使用 Air 热重载
air

# 方式3: 编译后运行
make build
./bluebell
```

---

## 📝 学习建议

### 学习路径

1. **基础阶段 (1-10章)**: 必须完整学习,打好基础
2. **进阶阶段 (11-22章)**: 理解 JWT 认证和 RESTful API 设计
3. **高级阶段 (23-36章)**: 重点关注 Redis 应用和性能优化
4. **工程化阶段 (37-42章)**: 学习文档编写和前后端集成

### 学习方法

- **动手实践**: 每章都要亲自编写代码,不要只看不做
- **理解原理**: 不要死记硬背,理解每个设计决策的原因
- **对比学习**: 对比教学文档和当前项目代码,找出差异
- **扩展思考**: 思考如何改进现有实现,提出自己的想法

### 作业建议

每章学习后,尝试完成以下任务:

1. 独立实现该章节的功能(不看代码)
2. 为实现的功能编写单元测试
3. 思考 3 个可能的改进点
4. 记录遇到的问题和解决方案

---

## 🤝 贡献指南

欢迎提出问题和改进建议!

如果您发现文档中的错误或有更好的实现方式,请:

1. 在项目根目录创建 `QUESTIONS.md` 记录问题
2. 在相应章节文档末尾添加"疑问"部分
3. 与讲师或同学讨论解决方案

---

## 📜 更新日志

### v2.0 (2025-12-08)

**重大更新:**
- 完全重构所有教学文档,与实际代码保持一致
- 新增社区筛选功能实现章节
- 新增投票功能 Bug 修复案例
- 新增 Vue3 前端完整实现章节
- 更新所有代码示例和注释
- 统一文档风格和术语

**修复内容:**
- 修正了旧文档中过时的 API 设计
- 更新了不再使用的 `,string` 标签说明
- 修复了参数校验相关的错误示例
- 更新了 Swagger 集成方式

**新增功能:**
- 添加了完整的前端项目教学
- 增加了问题排查和 Debug 章节
- 提供了更多的代码注释和解释
- 添加了附录资源和扩展阅读

---

## 📧 联系方式

**项目仓库:** https://github.com/yourusername/bluebell
**问题反馈:** 请在项目根目录创建 QUESTIONS.md
**技术交流:** 欢迎提出技术问题和改进建议

---

**祝学习愉快! 🎉**

> "好的代码是写给人看的,只是顺便让计算机执行而已。" - Donald Knuth
